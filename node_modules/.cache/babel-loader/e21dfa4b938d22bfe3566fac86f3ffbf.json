{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\User\\\\Documents\\\\ecom\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:\\\\Users\\\\User\\\\Documents\\\\ecom\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\User\\\\Documents\\\\ecom\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Elements,StripeProvider}from'react-stripe-elements';import items from'./api/items';import Product from'./components/Product/Product';import Cart from'./components/Cart/Cart';import CheckoutForm from'./components/CheckoutForm/CheckoutForm';import logo from\"./logo.svg\";import'./App.css';export default function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),itemsInCart=_useState2[0],setItemsInCart=_useState2[1];var handleAddToCartClick=function handleAddToCartClick(id){setItemsInCart(function(itemsInCart){var itemInCart=itemsInCart.find(function(item){return item.id===id;});// if item is already in cart, update the quantity\nif(itemInCart){return itemsInCart.map(function(item){if(item.id!==id)return item;return _objectSpread({},itemInCart,{quantity:item.quantity+1});});}// otherwise, add new item to cart\nvar item=items.find(function(item){return item.id===id;});return[].concat(_toConsumableArray(itemsInCart),[_objectSpread({},item,{quantity:1})]);});};var totalCost=itemsInCart.reduce(function(acc,item){return acc+item.price*item.quantity;},0);return React.createElement(\"div\",{className:\"App\"},React.createElement(\"header\",{className:\"App-header\"},React.createElement(\"img\",{src:logo,className:\"App-logo\",alt:\"logo\"}),React.createElement(\"h1\",{className:\"App-header-text\"},\"Dreamcast Shop\")),React.createElement(\"main\",{className:\"App-shop\"},React.createElement(\"div\",{className:\"App-products\"},items.map(function(item){return React.createElement(Product,{key:item.title,title:item.title,price:item.price,onAddToCartClick:function onAddToCartClick(){return handleAddToCartClick(item.id);}});})),React.createElement(Cart,{itemsInCart:itemsInCart,totalCost:totalCost}),itemsInCart.length>0&&React.createElement(StripeProvider,{apiKey:\"pk_test_hP6viEqQ3X9X6kzZ9S2wwIrn00iJXevrAO\"},React.createElement(Elements,null,React.createElement(CheckoutForm,{totalCost:totalCost})))));}","map":{"version":3,"sources":["C:/Users/User/Documents/ecom/src/App.js"],"names":["React","useState","Elements","StripeProvider","items","Product","Cart","CheckoutForm","App","itemsInCart","setItemsInCart","handleAddToCartClick","id","itemInCart","find","item","map","quantity","totalCost","reduce","acc","price","logo","title","length"],"mappings":"yWAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,QAAT,CAAmBC,cAAnB,KAAyC,uBAAzC,CACA,MAAOC,CAAAA,KAAP,KAAkB,aAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,8BAApB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,YAAP,KAAyB,wCAAzB,C,6BAEA,MAAO,WAAP,CAEA,cAAe,SAASC,CAAAA,GAAT,EAAe,eACUP,QAAQ,CAAC,EAAD,CADlB,wCACrBQ,WADqB,eACRC,cADQ,eAG5B,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAAAC,EAAE,CAAI,CACjCF,cAAc,CAAC,SAAAD,WAAW,CAAI,CAC5B,GAAMI,CAAAA,UAAU,CAAGJ,WAAW,CAACK,IAAZ,CAAiB,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACH,EAAL,GAAYA,EAAhB,EAArB,CAAnB,CAEA;AACA,GAAIC,UAAJ,CAAgB,CACd,MAAOJ,CAAAA,WAAW,CAACO,GAAZ,CAAgB,SAAAD,IAAI,CAAI,CAC7B,GAAIA,IAAI,CAACH,EAAL,GAAYA,EAAhB,CAAoB,MAAOG,CAAAA,IAAP,CACpB,wBAAYF,UAAZ,EAAwBI,QAAQ,CAAEF,IAAI,CAACE,QAAL,CAAgB,CAAlD,GACD,CAHM,CAAP,CAID,CAED;AACA,GAAMF,CAAAA,IAAI,CAAGX,KAAK,CAACU,IAAN,CAAW,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACH,EAAL,GAAYA,EAAhB,EAAf,CAAb,CACA,mCAAWH,WAAX,oBAA6BM,IAA7B,EAAmCE,QAAQ,CAAE,CAA7C,KACD,CAda,CAAd,CAeD,CAhBD,CAkBA,GAAMC,CAAAA,SAAS,CAAGT,WAAW,CAACU,MAAZ,CAChB,SAACC,GAAD,CAAML,IAAN,QAAeK,CAAAA,GAAG,CAAGL,IAAI,CAACM,KAAL,CAAaN,IAAI,CAACE,QAAvC,EADgB,CAEhB,CAFgB,CAAlB,CAKA,MACE,4BAAK,SAAS,CAAC,KAAf,EACE,8BAAQ,SAAS,CAAC,YAAlB,EACE,2BAAK,GAAG,CAAEK,IAAV,CAAgB,SAAS,CAAC,UAA1B,CAAqC,GAAG,CAAC,MAAzC,EADF,CAEE,0BAAI,SAAS,CAAC,iBAAd,mBAFF,CADF,CAKE,4BAAM,SAAS,CAAC,UAAhB,EACE,2BAAK,SAAS,CAAC,cAAf,EACGlB,KAAK,CAACY,GAAN,CAAU,SAAAD,IAAI,QACb,qBAAC,OAAD,EACE,GAAG,CAAEA,IAAI,CAACQ,KADZ,CAEE,KAAK,CAAER,IAAI,CAACQ,KAFd,CAGE,KAAK,CAAER,IAAI,CAACM,KAHd,CAIE,gBAAgB,CAAE,kCAAMV,CAAAA,oBAAoB,CAACI,IAAI,CAACH,EAAN,CAA1B,EAJpB,EADa,EAAd,CADH,CADF,CAWE,oBAAC,IAAD,EAAM,WAAW,CAAEH,WAAnB,CAAgC,SAAS,CAAES,SAA3C,EAXF,CAYGT,WAAW,CAACe,MAAZ,CAAqB,CAArB,EACD,oBAAC,cAAD,EAAgB,MAAM,CAAC,4CAAvB,EACE,oBAAC,QAAD,MACE,oBAAC,YAAD,EAAc,SAAS,CAAEN,SAAzB,EADF,CADF,CAbF,CALF,CADF,CA4BD","sourcesContent":["import React, { useState } from 'react';\nimport { Elements, StripeProvider } from 'react-stripe-elements';\nimport items from './api/items';\nimport Product from './components/Product/Product';\nimport Cart from './components/Cart/Cart';\nimport CheckoutForm from './components/CheckoutForm/CheckoutForm';\nimport logo from './logo.svg';\nimport './App.css';\n\nexport default function App() {\n  const [itemsInCart, setItemsInCart] = useState([]);\n\n  const handleAddToCartClick = id => {\n    setItemsInCart(itemsInCart => {\n      const itemInCart = itemsInCart.find(item => item.id === id);\n\n      // if item is already in cart, update the quantity\n      if (itemInCart) {\n        return itemsInCart.map(item => {\n          if (item.id !== id) return item;\n          return { ...itemInCart, quantity: item.quantity + 1 };\n        });\n      }\n\n      // otherwise, add new item to cart\n      const item = items.find(item => item.id === id);\n      return [...itemsInCart, { ...item, quantity: 1 }];\n    });\n  };\n\n  const totalCost = itemsInCart.reduce(\n    (acc, item) => acc + item.price * item.quantity,\n    0\n  );\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <h1 className=\"App-header-text\">Dreamcast Shop</h1>\n      </header>\n      <main className=\"App-shop\">\n        <div className=\"App-products\">\n          {items.map(item => (\n            <Product\n              key={item.title}\n              title={item.title}\n              price={item.price}\n              onAddToCartClick={() => handleAddToCartClick(item.id)}\n            />\n          ))}\n        </div>\n        <Cart itemsInCart={itemsInCart} totalCost={totalCost} />\n        {itemsInCart.length > 0 && (\n        <StripeProvider apiKey=\"pk_test_hP6viEqQ3X9X6kzZ9S2wwIrn00iJXevrAO\">\n          <Elements>\n            <CheckoutForm totalCost={totalCost} />\n          </Elements>\n        </StripeProvider>\n)}\n      </main>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}